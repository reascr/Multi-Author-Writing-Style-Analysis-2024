That isn't an issue specific to Erdogan, it is the result of populist economic policies that essentially every part of Turkish history followed. Not to mention the issue was worse before the IMF involvement, starting around Erdogan came to power, Turkey was printing banknotes with face values of millions, which is a thing most voting-age people remember. And it happened under nationalist regimes, rather than the current Islamist one, as I said economic policies aren't that important in Turkish politics.
What Turkish citizens got that is causing Erdogan's current unpopularity is the refugee crisis along with bad economic policy, though you will mostly see the opposition makes promises about the former.
How do I know? Turkey has pretty advanced weaponry, namely their drones and military ground vehicles. As the situation escalates, heavier and heavier weapons would be used. The outcome would be a complete disaster.
It's complicated. It wasn't that Turkey wanted to buy one and they said no, it was that Turkey wanted a technology transfer so they could build their own systems on their own.
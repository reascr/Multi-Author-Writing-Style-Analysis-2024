Russia will just cut off oil to any nation participating in this illegal scam. From their perspective it's a breach of existing contracts. They are 100% correct.
Its not about the actual military strenh of EU, they had soft diplomatic power over other nations without having a military since WW2 largely due to their status as powerful nations having strong leaders and a modern wealthy society.
putin can't stop selling. oil wells are very unlike most other things in that you really can't just stop extraction - if you do, it's incredibly costly to get things running up again. and oil is expensive to store around. so russia has to sell at capped prices if that's all they can get, cuz making a lil profit is far better than losing a ton of money.
yeah he will want to sell to others, but china and india both have extracted a large discount from russia and this price cap will give them even more leverage going forward. remember, both would absolutely love to pay less for oil, and can make a nice excuse about 'well we WANT to give you more money vladmir, but see we have to buy our own insurance now and our own tankers, so you know... higher costs means lower prices.'.
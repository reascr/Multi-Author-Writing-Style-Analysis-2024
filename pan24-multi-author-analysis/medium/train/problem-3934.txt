The people got tired of the previous regime, protested, and made the president quit. A new president was appointed and currently he's running the country until the next elections are held.
It's also worth noting that the current president, Ranil Wickramasinghe, is famously gay but has not publicly come out. It's an 'open secret' in the country.
Regarding Ranil, no, in fact he's been a shit leader in the past. Basically the presidency fell to him when the old regime was ousted and not many others wanted the job.
People were never really prosecuted for being gay. The law is a remnant from the British rule. I don't know anyone has been jailed for it, ever. Unfortunately though culturally it's still not very accepted, so that's a different battle we have to fight, but at least it's a start.
Being gay was not really social acceptable in Canada back when Pierre Trudeau famously said "the state has no place in the bedrooms of the nation". It's been a long fight by LGBTQ people and their supporters to get where we are now, but decriminalizing homosexuality was an important and critical step.
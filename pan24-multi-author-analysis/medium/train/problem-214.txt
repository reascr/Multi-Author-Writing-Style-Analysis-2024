Okay, it's the least we could do, but can we do more? Seems to me like this would just be a never-ending game of whack-a-mole, and stupid expensive to administer too.
Or the world of government in general, people will always find a way around a law no matter how well that law is enforced.
Welcome to the world of private choice. Companies, if not compelled otherwise, will have their interests and will try their best to serve such interests, to serve Russian market needs, especially military market needs.
It's like the US recently being shocked at American companies in large part assisting the skyrocketing Chinese tech industries through initial development stages of chip-making, and then the US govt. forgetting all notions of freedom in trade and banning this international affair, which forced private American companies previously doing big business with China, like NVIDIA, to take significant business losses. It will be the people within the most ardent opposition countries to Russia, that will be the most interested in assisting it. They will find a way to assist it one way or another.
It remains to be seen, as they are now incentivised to develop their own, or take Taiwanese chips, now that they've been cut off from freedom chips. It will mainly come down to how well the enforcement regime upholds the barrier that the US has asked to be upheld, and how successful China is in doing chips from scratch.
Usa sanction is not law. It is just a showcase of their political power exerted onto smaller developed/developing nations.
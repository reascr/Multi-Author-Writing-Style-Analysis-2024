I think a good analysis of the issue starts with knowing that there’s no “both sides”. There’s a million groups with different interests. On the Palestinian side, there’s at least two governments calling the shots with the PA and Hamas, and within that there’s a hell of a lot of factionalism and foreign interests. Ditto on the Israeli “side” — Israel is currently in a major ongoing political crisis and one way the far right can claw at more power is by fearmongering about Palestine and installing more aggressive policy. Compromise becomes hard the more interests that are involved, and the fact is there are political interests in both Palestine and Israel for whom peace is more inconvenient. Not to mention that it’s difficult to see a way out — what kind of solution would all of these interests accept at this point, not to mention society at large? The peace accords at Oslo took years of work, great timing, and committed governments who were in control, and we don’t have any of those right now.
When Palestine decided to join the coalition that attempted to destroy the jews in an unprovoked attack, they might have thought through the implications of losing.
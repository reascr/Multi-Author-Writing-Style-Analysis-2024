Semiautomatic firearms are limited to a capacity of 5 rounds, whether their magazine is removable or not. 30 round semiautomatic magazines are prohibited devices.
And the fact they added those as amendments AFTER committee testimony, where none of the expert witnesses had a chance to talk about the ban on all semi auto center fired rifles with detachable magazines because that wasn't the purpose of bill c21.
Anyone who has shot both will tell you a rifle is the far easier weapon to shoot accurately, and if your purpose is defense, why is having more rounds an issue? Without and even with practice, it is easy to miss. Not to mention it is easier to mount further accessories that benefit the shooter like an optic to quickly aim and a flashlight if you are in a low light condition.
A pistol is most certainly not. It is the best thing to be carried because it is small, but it is less accurate, so you are more prone to miss and send bullets to your neighbors, and also harder to shoot, so you are more likely to send bullets to your neighbors.
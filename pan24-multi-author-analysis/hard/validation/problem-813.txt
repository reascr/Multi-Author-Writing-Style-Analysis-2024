Unsurprising result, and the SNP will continue to push for it and push nationalism and such to promote it. Realistically it would be like Britain voting for Brexit all over again but that's not going to stop them.
Also happened in Ecosse before the Brexit (when England knew they would win). I'm sure it has happened recently in other countries.
I'm refering to the Brexit because the main argument for England was that Ecosse leaving UK also meant leaving EU. Just the folowing year, England decided to organize the Brexit referendum. In Scotland "remain" won, but they were forced by England to exit EU anyway.
Scotland got their chance at independence and chose to stay a part of the UK. This was recent. There are no obligations under UK or international law to keep giving them re-do's.
Sorry that's not how international law works. Spain, and throw in the rest of the EU, will not allow Scotland to join unless the independence process goes smoothly and with the consent of the entire UK.
There are probably several other countries that would not allow EU membership unless the process is smooth and has the clear consent of the entire UK.
Spain will never allow Scotland to join the EU unless the process is completed in full accordance with UK law. They're quite clear and on the record with this stance.
vietnam has CENTURIES of interactions with China, went through many phases, but each time China tried to funny, they have been resolutely repelled.
While about a thousand years ago China did directly rule parts of Northern Vietnam as part of their control over this region, they eventually learned that direct control wasn't the best way to go about 'pacifying' the region. Over time, the tusi system was adopted instead. Under this system, certain tribes and 'tribal nobles' could hold certain aristocratic titles to their local regions and receive the backing of the Chinese state to maintain control. This was very attractive to many local tribal leaders, as they could use Chinese armies to crush their local rivals. While they would nominally have to be a part of China as a whole, they possessed an enormous amount of autonomy and could inherit their titles, something which didn't exist in China proper (officials might hold the same titles their parents held, but there was no guaranteed inheritance). Additionally, Chinese influence in this region was so weak that many tusi chieftains would often swear allegiance to multiple states at once, leading to border conflicts between other powers.
The region of Southern China/Northern India/large parts of northern Southeast Asia, technically known as the Southeast Asian Massif but famously named Zomia by Willem Van Schendel and James C. Scott, is considered one of the least governable regions on Earth. Mountainous terrain combined with a tropical/subtropical climate and high incidence of diseases such as malaria made it very difficult for states of any kind to effectively rule this region. For most of modern history, the Massif was dominated by a coterie of very ethnically and linguistically diverse groups of people, who often lived in smaller tribes and communities. Because of how hard this area was to govern, many bandits and rebels in China (and other states) would flee to this region and use it as a staging ground to either launch a war or simply raid nearby settlements. As such, many Chinese Empires saw controlling this region as vital to their own internal stability. Additionally, this region also had a large number of copper and salt mines, both very lucrative resources in Chinese Imperial history (copper was used as the most common form of currency, and salt was a vital resource in the preservation of meats).
Historically Chinese empires viewed their frontiers as areas of vital national importance. Many dynasties had been toppled or weakened by invasions/conflicts with 'barbarians' on their Western, Southern, and Northern borders. The Southern border, where Vietnam is, had been particularly difficult to rule due to the complicated geography of the region.
The point of all this is that China's historic meddling and expansion in the region wasn't as simple as merely trying to "invade and take Vietnam" for nationalist purposes, something which did happen but was eventually abandoned as a long-term project. It had more to do with the region being a source of both instability for all states bordering it and vital resources.
For one, Elon already tried this and was heavily rebuked for it. Having the CEO now do it, doesn't change the fact that ultimately this came from Elon. Two, The US is supplying funding for these systems in Ukraine, The US is well aware of if this breaks any current rules or regulations.
Using civilian tech for military purposes has it's own risks, in the cyber attack areas, already. It is not a threat to US secrets.
ITAR is not military secrets. That would classified information. ITAR controls anything that can be weaponized.
When a system begins being used as a weapons system it becomes regulated under ITAR. When spaceX was being used for communications its a-ok as soon as it becomes a guidance system you are breaking the law. If the US enforced this it would make spaceX shutdown worldwide as it would not be viable for export.
SpaceX is upholding US law if the US lowers itself to ignoring law for war than they are not different. If you wish to remain the moral ones order must be maintained.
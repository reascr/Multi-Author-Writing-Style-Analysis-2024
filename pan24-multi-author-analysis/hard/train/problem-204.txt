I don't agree with rolling back regulations willy-nilly, but technically speaking, it's on neither. I'd say most of the blame goes with the train companies for opposing reasonable legislation.
If either administration had the regulation in place they would have been sued by the rail companies.
I've also read that the regulation that was rolled back would not have affected this particular train anyway.
And although it is arguable if the obama era regulation would have affected this particular train (assuming that the railway company wasn't going around the rules by reclassifing the train to other types). Obama's regulation only got so far as calling for an investigation into the costs/benefits. That investigation was done by Trump administration and was latter found to be lacking quite substantially.
Overall it probs would have been better, also in this case, if the train was equipped with better braking systems. It wouldn't have prevented the derailing, but it could have limited the impact. And in general it is a great example of why deregulation is only wise from a short term, quick win for shareholder point of view. But never good for the general public, as they will not be the ones to enjoy the lowered costs of operating of the railways.
the easy fix is for train operators to understand that there is value in things like train safety and upgrade their trains without the government forcing them to, but there is no way that sort of thing would ever happen here.
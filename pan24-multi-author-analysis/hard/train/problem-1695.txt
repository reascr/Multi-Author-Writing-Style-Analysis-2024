I don't think your drug point is actually correct though, I've heard places with legal weed the legal stuff is generally cheapee than the illegal stuff. Certainly with cigarettes and booze the illegal snuggled shit is cheaper.
With something like cigarettes or legalized weed, where a steep government sin tax is in effect, the black market can be cheaper than the legal distributors. However, the black market is still more expensive than if the government backed off and allowed cigarettes or marijuana to be sold at production cost. Even if a black market springs up to circumvent a government restraint on trade, the illegal price will still be higher than the original market equilibrium price was.
Why do you think it would do nothing? Other countries prefer to do business in dollars and euros. Forcing Russia to use up their currency reserves and then to trade exclusively with rubles sabotages Russia's ability to trade, and therefore makes the world a better place.
The development of a black market in goods or dollars to Russia should not necessarily be seen as a failure, when the goal is to put economic pressure on Russia, and the pressure goes up even with the black market supplying the goods/currency.
If other countries send euros and dollars to Russia, that still drives up the value of the euro and dollar, still creates arbitrage opportunities, and thus still makes trade more expensive for Russia.
Your comment is like "Banning drugs doesn't raise drug prices. People can get around the ban and buy." Obviously, black markets can exist. But black markets will, under any normal economic assumptions, drive up prices. That's the goal.